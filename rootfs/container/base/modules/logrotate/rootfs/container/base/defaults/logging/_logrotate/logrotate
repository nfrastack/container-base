# SPDX-FileCopyrightText: Â© 2025 Nfrastack <code@nfrastack.com>
#
# SPDX-License-Identifier: MIT

output_off
case "$(container_info distro)" in
    alpine )
        case "$(container_info variant)" in
            3.[58] ) set_env LOGROTATE_COMPRESSION_TYPE="gzip" nfrastack/base ;;
            *) set_env LOGROTATE_COMPRESSION_TYPE="zstd" nfrastack/base ;;
        esac
    ;;
esac

set_env LOGSHIPPING_AUTO_CONFIG_LOGROTATE="TRUE" nfrastack/base
set_env LOGROTATE_COMPRESSION_VALUE="8" nfrastack/base
set_env LOGROTATE_RETAIN_DAYS="7" nfrastack/base
output_on